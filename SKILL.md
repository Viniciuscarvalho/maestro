---
name: maestro
description: Intelligent skill knowledge gateway. Routes tasks to the right knowledge without loading all skills into context. MUST be consulted before any coding task — call the search_skills MCP tool to retrieve relevant expertise from 100+ indexed skills covering Swift, SwiftUI, concurrency, testing, architecture, performance, and security.
---

# Maestro — Skill Knowledge Gateway

## Critical Rule

BEFORE writing, reviewing, or modifying any code, ALWAYS call the `search_skills` MCP tool first. This retrieves precise, relevant knowledge from the indexed skill library. Do NOT rely on general knowledge when skill-specific expertise is available.

```
EVERY task → search_skills("description of what you need") → apply knowledge → respond
```

## How to Use

### Step 1: Search for Knowledge

Call the MCP tool with a description of what you need:

```
search_skills("Sendable conformance warning in actor class")
search_skills("SwiftUI @Observable state management pattern")
search_skills("write unit tests with Swift Testing #expect")
search_skills("NavigationStack deep linking coordinator pattern")
```

Tips for good queries:
- Include the specific problem: `"Fix Sendable warning"` not just `"concurrency"`
- Include the context: `"in actor class"` or `"for view model"`
- For compound tasks, make multiple calls:
  ```
  search_skills("SwiftUI login form @Observable")
  search_skills("async authentication network request")
  search_skills("unit test login view model mock")
  ```

### Step 2: Apply Retrieved Knowledge

The tool returns 5–7 relevant chunks with:
- Which skill and file they come from
- The section and heading path
- The actual content with code examples and patterns

Apply this knowledge directly. Do not announce "according to the skill…" — just use the patterns naturally.

### Step 3: For Complex Tasks

If a task spans multiple domains, make multiple search calls:

| Task                   | Searches needed                          |
|------------------------|------------------------------------------|
| `"Build login screen"` | UI + auth + networking + testing         |
| `"Fix data race"`      | concurrency + actors + sendable          |
| `"Add new feature"`    | architecture + UI + testing              |
| `"Performance audit"`  | performance + SwiftUI + profiling        |

## When MCP Is Not Available

If the `search_skills` tool is not available (e.g., Claude.ai without MCP):

1. Ask the user to run:
   ```bash
   maestro context "description of task"
   ```
2. User pastes the output into the conversation
3. Apply the retrieved knowledge

Alternatively, the user can run:
```bash
maestro search "query"
```
to see results interactively.

## Skill Index

These are the skills available in the knowledge base. Use this index to understand WHAT is available, then call `search_skills` to get the ACTUAL content.

<!-- SKILL_INDEX_START -->
<!-- This section is auto-generated by `maestro index`. -->
<!-- Each entry is: skill name | domains | description summary -->

| Skill                | Domains                           | Covers |
|----------------------|-----------------------------------|---------------------------------------------------------------------------------------------|
| asc-build-lifecycle  | asc-build-lifecycle               | Track build processing, find latest builds, and clean up old builds with asc. Use when managing build reten... |
| asc-cli-usage        | asc-cli-usage                     | Guidance for using the App Store Connect CLI in this repo (flags, output formats, pagination, auth, and dis... |
| asc-id-resolver      | asc-id-resolver                   | Resolve App Store Connect IDs (apps, builds, versions, groups, testers) from human-friendly names using asc... |
| asc-metadata-sync    | asc-metadata-sync                 | Sync and validate App Store metadata and localizations with asc, including Fastlane format migration. Use w... |
| asc-release-flow     | asc-release-flow                  | End-to-end release workflows for TestFlight and App Store using asc publish, builds, versions, and submit c... |
| asc-signing-setup    | asc-signing-setup                 | Set up bundle IDs, capabilities, signing certificates, and provisioning profiles with the asc CLI. Use when... |
| asc-submission-health | asc-submission-health             | Preflight App Store submissions, submit builds, and monitor review status with asc. Use when shipping or tr... |
| asc-testflight-orchestration | asc-testflight-orchestration      | Orchestrate TestFlight distribution, groups, testers, and What to Test notes using asc. Use when rolling ou... |
| asc-xcode-build      | asc-xcode-build                   | Build, archive, and export iOS/macOS apps with xcodebuild before uploading to App Store Connect. Use when y... |
| changelog-generator  | changelog-generator               | Automatically creates user-facing changelogs from git commits by analyzing commit history, categorizing cha... |
| code-analyzer        | code-analyzer                     | Read-only code analysis for architecture review and code quality assessment. Use when reviewing PRs or anal... |
| context-optimization | context-optimization              | Apply optimization techniques to extend effective context capacity. Use when context limits constrain agent... |
| creating-pr          | creating-pr                       | Use when creating or updating pull requests with comprehensive descriptions and meaningful commits - stream... |
| dogfood              | dogfood                           | Systematically explore and test a web application to find bugs, UX issues, and other problems. Use when ask... |
| feature-marker       | feature-marker                    | Platform-agnostic workflow automation with checkpoints (PRD/TechSpec/Tasks generation + implementation + te... |
| find-skills          | find-skills                       | Helps users discover and install agent skills when they ask questions like "how do I do X", "find a skill f... |
| maestro              | maestro                           | Intelligent skill knowledge gateway. Routes tasks to the right knowledge without loading all skills into co... |
| peon-ping-config     | peon-ping-config                  | Update peon-ping configuration — volume, pack rotation, categories, active pack, and other settings. Use wh... |
| peon-ping-log        | peon-ping-log                     | Log exercise reps for the Peon Trainer. Use when user says they did pushups, squats, or wants to log reps. ... |
| peon-ping-toggle     | peon-ping-toggle                  | Toggle peon-ping sound notifications on/off. Use when user wants to mute, unmute, pause, or resume peon sou... |
| peon-ping-use        | peon-ping-use                     | Set which voice pack (character voice) plays for the current chat session. Automatically enables agentskill... |
| remotion-best-practices | remotion-best-practices           | Best practices for Remotion - Video creation in React |
| swift-code-reviewer-skill | swift-code-reviewer-skill         | Perform thorough code reviews for Swift/SwiftUI code, analyzing code quality, architecture, performance, se... |
| swift-concurrency    | swift-concurrency                 | Expert guidance on Swift Concurrency best practices, patterns, and implementation. Use when developers ment... |
| swift-expert         | swift-expert                      | Swift specialist for iOS/macOS development with Swift 6.0+, SwiftUI, async/await concurrency, and protocol-... |
| swift-testing        | swift-testing                     | Expert guidance on Swift Testing best practices, patterns, and implementation. Use when developers mention:... |
| swift-testing-expert | swift-testing-expert              | Expert guidance for Swift Testing: test structure, #expect/#require macros, traits and tags, parameterized ... |
| swiftui-expert-skill | swiftui-expert-skill              | Write, review, or improve SwiftUI code following best practices for state management, view composition, per... |
| xcodebuildmcp-cli    | xcodebuildmcp-cli                 | Official skill for the XcodeBuildMCP CLI. Use when doing iOS/macOS/watchOS/tvOS/visionOS work (build, test,... |
| zellij-specialist    | zellij-specialist                 | Terminal multiplexer specialist for layout design, plugin development, and session management |
<!-- SKILL_INDEX_END -->

## Domains Covered

The knowledge base covers these domains (use these terms in your searches):

- **concurrency** — async/await, actors, Sendable, Task, isolation, data races, Swift 6
- **ui** — SwiftUI views, state management, modifiers, layout, navigation, sheets
- **testing** — Swift Testing, @Test, #expect, mocks, stubs, fixtures, parameterized
- **state-management** — @Observable, @State, @Binding, @Environment, property wrappers
- **performance** — view updates, ForEach optimization, lazy loading, profiling
- **security** — Keychain, credentials, force unwrap safety, input validation
- **architecture** — MVVM, TCA, dependency injection, repository pattern, coordinators
- **error-handling** — typed throws, Result, guard, do-catch patterns
- **navigation** — NavigationStack, coordinators, deep linking, sheets
- **migration** — Swift 5→6, breaking changes, deprecated API replacement

## Auto-Indexing

The RAG engine automatically indexes skills when:
- First `search_skills` call (empty index detected)
- Skills are modified (file hash change detection)
- Explicit: `maestro index` command

No manual indexing step is required for normal use.
